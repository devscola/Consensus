<dom-module id="login-password-toggler">
    <template>
        <style>
        </style>

        <div id="passwordToggler" class="glyphicon glyphicon-eye-close" aria-hidden="true"></div>
    </template>

    <script>
        Polymer({
            is: 'login-password-toggler',

            properties: {
                password: {
                    type: String,
                    notify: true
                }
            },

            listener: {
                'click': 'send'
            },

            ready: function() {
                this.element = this.$.passwordToggler;
                this.element.addEventListener('click', this.send.bind(this));
            },

            send: function() {
                LoginBus.publish('login.passwordToggler.clicked');
            },

            eyeWillBe: function(eyeTypeWanted) {
                this.element.ClassName = 'glyphicon glyphicon-eye-' + eyeTypeWanted;
            },

            subscribe: function() {
                LoginBus.subscribe('login.passwordToggler.change', this.eyeWillBe.bind(this));
            }
        });
     </script>
</dom-module>

<link rel="import" href="/web_components/infrastructure/polymer.html">

<dom-module id="question-button">
    <template>
        <style>
            #question.show {
                display: block;
            }

            #question.hide {
                display: none;
            }

        </style>

        <button
            id="question"
            on-click="openTextarea"
            disabled$="{{enabledQuestion}}"
            class$="{{visibility}}"
        >
            ?
        </button>

    </template>

    <script>
        Polymer({
            is: 'question-button',

            properties: {
                enabledQuestion: {
                    type: Boolean,
                    value: false,
                },

                buttonActivated: {
                    type: Boolean,
                    value: false,
                    reflectToAttribute: true,
                    observer: 'buttonActivation'
                },

                visibility: {
                    type: String,
                    value: 'hide',
                },

                validQuestioner: {
                    type: Boolean,
                    value: false,
                    reflectToAttribute: true,
                    observer: '_renderButton'
                }
            },

            _renderButton: function() {
                if (this.validQuestioner) {
                    this._show();
                }
            },

            _show: function() {
                this.visibility = 'show';
            },

            openTextarea: function(e, detail) {
                this.fire('openTextarea');
                this.enabledQuestion = true;
            },

            buttonActivation: function() {
                this.buttonActivated = false;
                this.enabledQuestion = false;
            },

            showButton: function() {
                this.visibility = 'show';
            }

        });
    </script>
</dom-module>
